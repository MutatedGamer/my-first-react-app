{"ast":null,"code":"import _defineProperty from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lukebord/react/react-firebase-authentication/src/components/AddPlay/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport * as ROUTES from '../../constants/routes';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nvar INITIAL_STATE = {\n  name: '',\n  description: '',\n  error: ''\n};\n\nvar AddPlayPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddPlayPage, _Component);\n\n  function AddPlayPage(props) {\n    var _this;\n\n    _classCallCheck(this, AddPlayPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddPlayPage).call(this, props));\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n\n      _this.props.firebase.db.collection(\"shows\").add({\n        name: _this.state.name,\n        description: _this.state.description,\n        created: _this.props.firebase.firestore.FieldValue\n      }).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n      }).then(function () {\n        _this.props.history.push(ROUTES.ADMIN);\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(AddPlayPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          description = _this$state.description;\n      var isInvalid = name === '';\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"playName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Name\"), React.createElement(Form.Control, {\n        name: \"name\",\n        onChange: this.onChange,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"playDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Description\"), React.createElement(Form.Control, {\n        name: \"description\",\n        onChange: this.onChange,\n        as: \"textarea\",\n        rows: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(Button, {\n        disabled: isInvalid,\n        variant: \"light\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Submit\")))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.error.message))));\n    }\n  }]);\n\n  return AddPlayPage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withFirebase(withRouter(withAuthorization(condition)(AddPlayPage)));","map":{"version":3,"sources":["/home/lukebord/react/react-firebase-authentication/src/components/AddPlay/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","withFirebase","Container","Row","Col","Form","Button","ROUTES","Link","withRouter","compose","INITIAL_STATE","name","description","error","AddPlayPage","props","onSubmit","event","preventDefault","firebase","db","collection","add","state","created","firestore","FieldValue","then","setState","history","push","ADMIN","catch","onChange","target","value","isInvalid","message","condition","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { Container, Row, Col, Form, Button} from 'react-bootstrap';\nimport * as ROUTES from '../../constants/routes';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nconst INITIAL_STATE = {\n    name: '',\n    description: '',\n    error: '',\n}\n\nclass AddPlayPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...INITIAL_STATE };\n    }\n\n    onSubmit = event => {\n    event.preventDefault();\n        this.props.firebase.db.collection(\"shows\").add({\n            name: this.state.name,\n            description : this.state.description,\n            created: this.props.firebase.firestore.FieldValue,\n        })\n        .then(() => {\n            this.setState({ ...INITIAL_STATE });\n        })\n        .then(() => {\n            this.props.history.push(ROUTES.ADMIN);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n    };\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n\n    render() {\n        const {\n            name,\n            description,\n        } = this.state;\n        const isInvalid = \n            name === '';\n        return (\n            <Container>\n                <Row>\n                    <Col>\n                        <Form\n                            onSubmit={this.onSubmit}\n                        >\n                            <Form.Group controlId=\"playName\">\n                                <Form.Label>Name</Form.Label>\n                                <Form.Control name=\"name\" onChange={this.onChange} type=\"text\"></Form.Control>\n                            </Form.Group>\n                            <Form.Group controlId=\"playDescription\">\n                                <Form.Label>Description</Form.Label>\n                                <Form.Control name=\"description\" onChange={this.onChange} as=\"textarea\" rows=\"3\"></Form.Control>\n                            </Form.Group>\n                            <Button disabled={isInvalid} variant=\"light\" type=\"submit\">\n                                Submit\n                            </Button>\n                        </Form>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        {this.error && <p>{this.error.message}</p>}\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withFirebase(withRouter(withAuthorization(condition)(AddPlayPage)));"]},"metadata":{},"sourceType":"module"}