{"ast":null,"code":"import _defineProperty from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lukebord/react/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lukebord/react/react-firebase-authentication/src/components/AddPlay/index.js\";\nimport React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport * as ROUTES from '../../constants/routes';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { firestore } from 'firebase';\nimport PlayName from './Steps/PlayName';\nimport PlayDescription from './Steps/PlayDescription';\nimport PlayActor from './Steps/PlayActor';\nvar INITIAL_STATE = {\n  name: '',\n  description: '',\n  error: '',\n  step: 1,\n  actor: ''\n};\n\nvar AddPlayPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddPlayPage, _Component);\n\n  function AddPlayPage(props) {\n    var _this;\n\n    _classCallCheck(this, AddPlayPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddPlayPage).call(this, props));\n\n    _this.nextStep = function () {\n      var step = _this.state.step;\n\n      _this.setState({\n        step: step + 1\n      });\n    };\n\n    _this.prevStep = function () {\n      var step = _this.state.step;\n\n      _this.setState({\n        step: step - 1\n      });\n    };\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n\n      _this.props.firebase.db.collection(\"shows\").add({\n        name: _this.state.name,\n        description: _this.state.description,\n        created: firestore.FieldValue.serverTimestamp()\n      }).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n      }).then(function () {\n        _this.props.history.push(ROUTES.ADMIN);\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.onChange = function (event) {\n      console.log(\"fired\");\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(AddPlayPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.getStep())), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.error.message))));\n    }\n  }, {\n    key: \"getStep\",\n    value: function getStep() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          description = _this$state.description,\n          error = _this$state.error,\n          actor = _this$state.actor,\n          step = _this$state.step;\n      var values = {\n        name: name,\n        description: description,\n        actor: actor\n      };\n\n      switch (step) {\n        case 1:\n          return React.createElement(PlayName, {\n            nextStep: this.nextStep,\n            onChange: this.onChange,\n            values: values,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          });\n\n        case 2:\n          return React.createElement(PlayDescription, {\n            nextStep: this.nextStep,\n            prevStep: this.prevStep,\n            onChange: this.onChange,\n            values: values,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          });\n\n        case 3:\n          return React.createElement(PlayActor, {\n            nextStep: this.nextStep,\n            prevStep: this.prevStep,\n            onChange: this.onChange,\n            values: values,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          });\n\n        default:\n          return null;\n      }\n    }\n  }]);\n\n  return AddPlayPage;\n}(Component);\n\nvar condition = function condition(authUser) {\n  return !!authUser;\n};\n\nexport default withFirebase(withRouter(withAuthorization(condition)(AddPlayPage)));","map":{"version":3,"sources":["/home/lukebord/react/react-firebase-authentication/src/components/AddPlay/index.js"],"names":["React","Component","AuthUserContext","withAuthorization","withFirebase","Container","Row","Col","Form","Button","ROUTES","Link","withRouter","compose","firestore","PlayName","PlayDescription","PlayActor","INITIAL_STATE","name","description","error","step","actor","AddPlayPage","props","nextStep","state","setState","prevStep","onSubmit","event","preventDefault","firebase","db","collection","add","created","FieldValue","serverTimestamp","then","history","push","ADMIN","catch","onChange","console","log","target","value","getStep","message","values","condition","authUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { AuthUserContext, withAuthorization } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { Container, Row, Col, Form, Button} from 'react-bootstrap';\nimport * as ROUTES from '../../constants/routes';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { firestore } from 'firebase';\nimport PlayName from './Steps/PlayName';\nimport PlayDescription from './Steps/PlayDescription';\nimport PlayActor from './Steps/PlayActor';\n\nconst INITIAL_STATE = {\n    name: '',\n    description: '',\n    error: '',\n    step: 1,\n    actor: '',\n}\n\nclass AddPlayPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...INITIAL_STATE };\n    }\n\n    nextStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step : step + 1\n        });\n    }\n\n    prevStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step : step - 1\n        });\n    }\n\n    onSubmit = event => {\n    event.preventDefault();\n        this.props.firebase.db.collection(\"shows\").add({\n            name: this.state.name,\n            description : this.state.description,\n            created: firestore.FieldValue.serverTimestamp(),\n        })\n        .then(() => {\n            this.setState({ ...INITIAL_STATE });\n        })\n        .then(() => {\n            this.props.history.push(ROUTES.ADMIN);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n    };\n\n    onChange = event => {\n        console.log(\"fired\");\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <Col>\n                        {this.getStep()}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        {this.error && <p>{this.error.message}</p>}\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n\n    getStep() {\n        const {\n            name,\n            description,\n            error, \n            actor,\n            step,\n        } = this.state;\n        const values = { name, description, actor};\n        switch (step) {\n            case 1:\n                return <PlayName\n                        nextStep = {this.nextStep}\n                        onChange = {this.onChange}\n                        values = {values }\n                        />\n            case 2:\n                return <PlayDescription\n                        nextStep = {this.nextStep}\n                        prevStep = {this.prevStep}\n                        onChange = {this.onChange}\n                        values = {values}\n                        />\n                case 3:\n                return <PlayActor\n                        nextStep = {this.nextStep}\n                        prevStep = {this.prevStep}\n                        onChange = {this.onChange}\n                        values = {values}\n                        />\n            default:\n                return null;\n\n        }\n\n    }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withFirebase(withRouter(withAuthorization(condition)(AddPlayPage)));"]},"metadata":{},"sourceType":"module"}